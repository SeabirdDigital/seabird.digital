<script>
    import { goto } from "../../tools"
    import { CountUp } from "countup.js"

    const countUp = new CountUp('counter', 94);
    let startedCount = false;

    document.getElementById("about-cta")?.addEventListener("click", () => goto("/kontakt"))
    document.getElementById("about-read-more")?.addEventListener("click", () => goto("/om"))

    document.body.addEventListener("onscroll", () => {
        console.log(window.scrollY)
        if (window.scrollY > (document.getElementById("counter")?.offsetTop || 0) && !startedCount)
            countUp.start();
    })
</script>

<div id="about">
    <div>
        <span>Varför oss?</span>
        <h2>Moderna hemsidor utan<br>att skada din plånbok</h2>
        <p>Vi på Seabird vet hur krävande det kan vara att driva ett företag, men vi vet också hur viktigt din hemsidas design är. Därför erbjuder vi modern webbdesign till ett rimligt pris.</p>
        <div id="about-ctas">
            <button id="about-cta">Kontakt</button>
            <button id="about-read-more">Läs mer</button>
        </div>
    </div>
    <div>
        <div id="counter"></div>
    </div>
</div>

<style>
    #about {
        @apply
            container

            relative
            flex
            flex-col-reverse lg:flex-row

            py-20;
    }

    #about > div > span {
        @apply
            font-specify-ex
            text-xs
            tracking-normal
            uppercase
            opacity-75;
    }

    #phone {
        @apply
            hidden lg:block
    }

    #about > div {
        @apply
            flex
            flex-1
            flex-col

            justify-center
            items-center lg:items-baseline
            text-center lg:text-left
    }

    #about p {
        @apply
            pt-4
    }

    #about-ctas {
        @apply
            mt-6
            flex
            items-center
            gap-6;
    }

    #about-cta {
        @apply
            w-fit
            bg-sb-purple

            text-white
            font-mulish
            font-bold

            py-3
            px-5

            shadow-hard
            -rotate-3 hover:rotate-0

            duration-150 hover:shadow-none;
    }

    #about-read-more {
        @apply
            font-mulish
            font-bold

            pt-1 hover:pt-2
            pb-[2px] hover:pb-[6px]
            border-b-[2px]
            border-black hover:border-transparent

            duration-150
    }
</style>